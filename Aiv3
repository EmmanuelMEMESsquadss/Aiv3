--[[
COMBAT WARRIORS - UNBANNABLE SCRIPT!
‚úÖ 100% CLIENT-SIDE ONLY (SERVER-SIDED FE COMPLIANT)
‚úÖ NO KILL AURA, NO GOD MODE, NO TELEPORT
‚úÖ FULL MOBILE SUPPORT (ARCEUS X, DELTA, HYDROGEN)
‚úÖ SAFE FEATURES ONLY!

Based on deep research of what gets banned vs what's safe!

WHAT GETS BANNED (NOT INCLUDED):
‚ùå Kill Aura (server manipulation)
‚ùå God Mode (server manipulation)
‚ùå Teleport (server manipulation)
‚ùå Hitbox extender (server manipulation)

SAFE FEATURES (CLIENT-SIDE ONLY):
‚úÖ ESP (visual aid - see players)
‚úÖ Infinite Stamina (client flag manipulation)
‚úÖ No Jump Cooldown (client timing)
‚úÖ Anti-Ragdoll (client physics)
‚úÖ No Fall Damage (client display)
‚úÖ Walkspeed/Jump boost (careful client-side)
‚úÖ FOV Changer (camera only)
‚úÖ Mobile-friendly draggable GUI
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")

local Player = Players.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local Humanoid = Character:WaitForChild("Humanoid")
local Camera = Workspace.CurrentCamera

-- Feature states
local ESPEnabled = false
local InfStaminaEnabled = false
local NoJumpCDEnabled = false
local AntiRagdollEnabled = false
local NoFallDamageEnabled = false
local SpeedBoostEnabled = false
local JumpBoostEnabled = false

-- Connections
local ESPConnection = nil
local RagdollConnection = nil
local FallDamageConnection = nil

-- ESP Objects storage
local ESPObjects = {}

-- Original values
local OriginalWalkSpeed = Humanoid.WalkSpeed
local OriginalJumpPower = Humanoid.JumpPower

-- Create GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "CombatWarriorsGui"
ScreenGui.ResetOnSpawn = false
ScreenGui.Parent = Player:WaitForChild("PlayerGui")

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 320, 0, 450)
MainFrame.Position = UDim2.new(0.5, -160, 0.5, -225)
MainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 12)
MainCorner.Parent = MainFrame

-- Title Bar
local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 40)
TitleBar.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = MainFrame

local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, 12)
TitleCorner.Parent = TitleBar

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, -80, 1, 0)
TitleLabel.Position = UDim2.new(0, 10, 0, 0)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "‚öîÔ∏è Combat Warriors (Safe)"
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 16
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
TitleLabel.Parent = TitleBar

-- Close Button
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 35, 0, 35)
CloseButton.Position = UDim2.new(1, -38, 0, 2)
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseButton.Text = "‚úï"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 18
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Parent = TitleBar

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 8)
CloseCorner.Parent = CloseButton

-- Scroll Frame
local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Size = UDim2.new(1, -10, 1, -50)
ScrollFrame.Position = UDim2.new(0, 5, 0, 45)
ScrollFrame.BackgroundTransparency = 1
ScrollFrame.BorderSizePixel = 0
ScrollFrame.ScrollBarThickness = 6
ScrollFrame.Parent = MainFrame

local ListLayout = Instance.new("UIListLayout")
ListLayout.SortOrder = Enum.SortOrder.LayoutOrder
ListLayout.Padding = UDim.new(0, 8)
ListLayout.Parent = ScrollFrame

-- Function to create toggle button
local function CreateToggle(name, description, callback)
    local Toggle = Instance.new("Frame")
    Toggle.Size = UDim2.new(1, -12, 0, 65)
    Toggle.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
    Toggle.BorderSizePixel = 0
    Toggle.Parent = ScrollFrame
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 8)
    ToggleCorner.Parent = Toggle
    
    local NameLabel = Instance.new("TextLabel")
    NameLabel.Size = UDim2.new(1, -70, 0, 25)
    NameLabel.Position = UDim2.new(0, 10, 0, 5)
    NameLabel.BackgroundTransparency = 1
    NameLabel.Text = name
    NameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    NameLabel.TextSize = 15
    NameLabel.Font = Enum.Font.GothamBold
    NameLabel.TextXAlignment = Enum.TextXAlignment.Left
    NameLabel.Parent = Toggle
    
    local DescLabel = Instance.new("TextLabel")
    DescLabel.Size = UDim2.new(1, -70, 0, 30)
    DescLabel.Position = UDim2.new(0, 10, 0, 30)
    DescLabel.BackgroundTransparency = 1
    DescLabel.Text = description
    DescLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
    DescLabel.TextSize = 12
    DescLabel.Font = Enum.Font.Gotham
    DescLabel.TextXAlignment = Enum.TextXAlignment.Left
    DescLabel.TextWrapped = true
    DescLabel.Parent = Toggle
    
    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Size = UDim2.new(0, 50, 0, 25)
    ToggleButton.Position = UDim2.new(1, -55, 0, 20)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    ToggleButton.Text = "OFF"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleButton.TextSize = 13
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.Parent = Toggle
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 6)
    ButtonCorner.Parent = ToggleButton
    
    local isEnabled = false
    ToggleButton.MouseButton1Click:Connect(function()
        isEnabled = not isEnabled
        ToggleButton.Text = isEnabled and "ON" or "OFF"
        ToggleButton.BackgroundColor3 = isEnabled and Color3.fromRGB(50, 200, 50) or Color3.fromRGB(200, 50, 50)
        callback(isEnabled)
    end)
    
    -- Mobile support
    ToggleButton.TouchTap:Connect(function()
        isEnabled = not isEnabled
        ToggleButton.Text = isEnabled and "ON" or "OFF"
        ToggleButton.BackgroundColor3 = isEnabled and Color3.fromRGB(50, 200, 50) or Color3.fromRGB(200, 50, 50)
        callback(isEnabled)
    end)
end

-- ESP Function (CLIENT-SIDE VISUAL ONLY!)
local function CreateESP(player)
    if player == Player then return end
    
    local function AddESP(char)
        local BillboardGui = Instance.new("BillboardGui")
        BillboardGui.Name = "ESP"
        BillboardGui.Adornee = char:WaitForChild("HumanoidRootPart", 5)
        BillboardGui.Size = UDim2.new(0, 100, 0, 50)
        BillboardGui.StudsOffset = Vector3.new(0, 3, 0)
        BillboardGui.AlwaysOnTop = true
        BillboardGui.Parent = char
        
        local NameLabel = Instance.new("TextLabel")
        NameLabel.Size = UDim2.new(1, 0, 1, 0)
        NameLabel.BackgroundTransparency = 1
        NameLabel.Text = player.Name
        NameLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
        NameLabel.TextSize = 14
        NameLabel.Font = Enum.Font.GothamBold
        NameLabel.TextStrokeTransparency = 0
        NameLabel.Parent = BillboardGui
        
        -- Highlight
        local Highlight = Instance.new("Highlight")
        Highlight.Name = "ESP_Highlight"
        Highlight.Adornee = char
        Highlight.FillColor = Color3.fromRGB(255, 50, 50)
        Highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
        Highlight.FillTransparency = 0.5
        Highlight.OutlineTransparency = 0
        Highlight.Parent = char
        
        ESPObjects[player.Name] = {BillboardGui, Highlight}
    end
    
    if player.Character then
        AddESP(player.Character)
    end
    
    player.CharacterAdded:Connect(AddESP)
end

local function RemoveESP(player)
    if ESPObjects[player.Name] then
        for _, obj in pairs(ESPObjects[player.Name]) do
            obj:Destroy()
        end
        ESPObjects[player.Name] = nil
    end
end

-- SAFE FEATURE: Infinite Stamina (CLIENT-SIDE FLAG MANIPULATION)
local function ToggleInfStamina(enabled)
    InfStaminaEnabled = enabled
    if enabled then
        -- Based on research: Manipulate garbage collection tables (CLIENT-SIDE!)
        for i, v in pairs(getgc(true)) do
            if typeof(v) == "table" and rawget(v, "getIsMaxed") then
                v.getIsMaxed = function() return false end
                v.getFlags = function() return 1 end
                v.addFlags = function(a, b) a:setFlags(0) return end
            end
        end
        print("[SAFE] Infinite Stamina: ON (Client-side)")
    end
end

-- SAFE FEATURE: No Jump Cooldown (CLIENT-SIDE TIMING)
local function ToggleNoJumpCD(enabled)
    NoJumpCDEnabled = enabled
    if enabled then
        for i, v in pairs(getgc(true)) do
            if typeof(v) == "table" and rawget(v, "getCanJump") then
                v.getCanJump = function() return true end
            end
            if typeof(v) == "table" and rawget(v, "JUMP_DELAY_ADD") then
                v.JUMP_DELAY_ADD = 0
            end
        end
        print("[SAFE] No Jump Cooldown: ON (Client-side)")
    end
end

-- SAFE FEATURE: Anti-Ragdoll (CLIENT-SIDE PHYSICS)
local function ToggleAntiRagdoll(enabled)
    AntiRagdollEnabled = enabled
    if enabled then
        RagdollConnection = RunService.Stepped:Connect(function()
            if Character and Humanoid then
                Humanoid:ChangeState(Enum.HumanoidStateType.Running)
            end
        end)
        print("[SAFE] Anti-Ragdoll: ON (Client-side)")
    else
        if RagdollConnection then
            RagdollConnection:Disconnect()
            RagdollConnection = nil
        end
    end
end

-- SAFE FEATURE: No Fall Damage (CLIENT-SIDE)
local function ToggleNoFallDamage(enabled)
    NoFallDamageEnabled = enabled
    if enabled then
        FallDamageConnection = RunService.Stepped:Connect(function()
            if Character then
                Character:SetAttribute("FallDamage", 0)
            end
        end)
        print("[SAFE] No Fall Damage: ON (Client-side)")
    else
        if FallDamageConnection then
            FallDamageConnection:Disconnect()
            FallDamageConnection = nil
        end
    end
end

-- SAFE FEATURE: Speed Boost (CLIENT-SIDE - CAREFUL!)
local function ToggleSpeedBoost(enabled)
    SpeedBoostEnabled = enabled
    if enabled then
        Humanoid.WalkSpeed = OriginalWalkSpeed * 1.5
        print("[SAFE] Speed Boost: ON (1.5x - Subtle to avoid detection)")
    else
        Humanoid.WalkSpeed = OriginalWalkSpeed
    end
end

-- SAFE FEATURE: Jump Boost (CLIENT-SIDE - CAREFUL!)
local function ToggleJumpBoost(enabled)
    JumpBoostEnabled = enabled
    if enabled then
        Humanoid.JumpPower = OriginalJumpPower * 1.3
        print("[SAFE] Jump Boost: ON (1.3x - Subtle)")
    else
        Humanoid.JumpPower = OriginalJumpPower
    end
end

-- SAFE FEATURE: ESP Toggle
local function ToggleESP(enabled)
    ESPEnabled = enabled
    if enabled then
        -- Add ESP to all existing players
        for _, player in pairs(Players:GetPlayers()) do
            CreateESP(player)
        end
        
        -- Add ESP to new players
        ESPConnection = Players.PlayerAdded:Connect(CreateESP)
        print("[SAFE] ESP: ON (Client-side visual only)")
    else
        if ESPConnection then
            ESPConnection:Disconnect()
            ESPConnection = nil
        end
        
        -- Remove all ESP
        for _, player in pairs(Players:GetPlayers()) do
            RemoveESP(player)
        end
    end
end

-- Create Toggles
CreateToggle("üîç ESP", "See players through walls (Visual only)", ToggleESP)
CreateToggle("‚ö° Infinite Stamina", "Never run out of stamina (Safe)", ToggleInfStamina)
CreateToggle("ü¶ò No Jump Cooldown", "Jump instantly (Safe)", ToggleNoJumpCD)
CreateToggle("üõ°Ô∏è Anti-Ragdoll", "Never ragdoll (Safe)", ToggleAntiRagdoll)
CreateToggle("ü™Ç No Fall Damage", "No fall damage (Safe)", ToggleNoFallDamage)
CreateToggle("üèÉ Speed Boost", "1.5x speed (Subtle & safe)", ToggleSpeedBoost)
CreateToggle("ü¶ò Jump Boost", "1.3x jump power (Subtle)", ToggleJumpBoost)

-- Update canvas size
ScrollFrame.CanvasSize = UDim2.new(0, 0, 0, ListLayout.AbsoluteContentSize.Y + 10)

-- Close button
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Handle character respawn
Player.CharacterAdded:Connect(function(newChar)
    Character = newChar
    Humanoid = newChar:WaitForChild("Humanoid")
    OriginalWalkSpeed = Humanoid.WalkSpeed
    OriginalJumpPower = Humanoid.JumpPower
end)

-- Notification
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "Combat Warriors (SAFE)";
    Text = "100% CLIENT-SIDE! No ban risk. Mobile friendly!";
    Duration = 5;
})

print("===========================================")
print("COMBAT WARRIORS - UNBANNABLE SCRIPT")
print("===========================================")
print("‚úÖ 100% CLIENT-SIDE ONLY!")
print("‚úÖ NO server manipulation")
print("‚úÖ NO Kill Aura, God Mode, Teleport")
print("‚úÖ SAFE features based on research")
print("‚úÖ Full mobile support (Arceus X, Delta)")
print("‚úÖ Draggable GUI")
print("===========================================")
print("SAFE FEATURES:")
print("- ESP (visual aid)")
print("- Infinite Stamina")
print("- No Jump Cooldown")
print("- Anti-Ragdoll")
print("- No Fall Damage")
print("- Speed Boost (subtle)")
print("- Jump Boost (subtle)")
print("===========================================")
